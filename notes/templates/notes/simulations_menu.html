{% extends "notes/base.html" %}
{% block title %}Physics Simulations | NextGen Physics{% endblock %}

{% block content %}
<div class="container mt-5 text-center">

  <!-- ğŸŒˆ Header Section -->
  <div class="p-4 rounded-4 mb-4 shadow"
       style="background: linear-gradient(90deg, #007bff, #00c6ff); color: white;">
    <h1 class="fw-bold mb-2">âš™ï¸ Physics Simulations Library</h1>
    <p class="lead mb-0">Explore Interactive NEET & JEE Simulations â€” Learn Concepts Visually</p>
  </div>

  <!-- ğŸ” Search Bar -->
  <form method="get" class="mb-4">
    <input type="text" name="q" class="form-control form-control-lg text-center"
           placeholder="ğŸ” Search Simulation (e.g., Collision, Optics, Motion)"
           style="max-width: 500px; margin: auto; border-radius: 30px; border: 1px solid #007bff;">
  </form>

  <!-- ğŸ§  Simulation Cards -->
  <div class="row justify-content-center">
    {% for sim in simulations %}
    <div class="col-md-4 col-sm-6 mb-4">
      <div class="card h-100 border-0 shadow-lg position-relative sim-card"
           style="border-radius: 15px; transition: all 0.3s ease-in-out;">
        
        {% if sim.thumbnail %}
        <img src="{{ sim.thumbnail.url }}" alt="{{ sim.title }}"
             class="card-img-top"
             style="height: 180px; object-fit: cover; border-top-left-radius: 15px; border-top-right-radius: 15px;">
        {% endif %}
        
        {% if sim.category %}
        <span class="badge bg-gradient position-absolute top-0 end-0 m-3 px-3 py-2"
              style="background: linear-gradient(90deg, #00bcd4, #007bff);">
          {{ sim.category }}
        </span>
        {% endif %}
        
        {% if sim.uploaded_at and sim.uploaded_at|timesince < "7 days" %}
        <span class="badge bg-danger position-absolute top-0 start-0 m-3 px-3 py-2">ğŸ†•</span>
        {% endif %}

        <div class="card-body text-start px-4">
          <h5 class="card-title text-primary fw-semibold">{{ sim.title }}</h5>
          <p class="card-text text-muted small">{{ sim.description|truncatechars:120 }}</p>

          <a href="{% url 'simulation_detail' slug=sim.slug %}"
             class="btn btn-outline-primary w-100 fw-semibold rounded-pill mt-2">
            ğŸš€ Start Simulation
          </a>
        </div>
      </div>
    </div>
    {% empty %}
    <p class="text-muted">No simulations available yet.</p>
    {% endfor %}
  </div>

  <!-- ğŸŒŸ Custom Simulations -->
  <hr class="my-5" />
  <h3 class="text-info fw-bold mb-4">ğŸ§© Custom Interactive Simulations</h3>

  <div class="row justify-content-center g-3">
    <div class="col-md-3 col-sm-6">
      <a href="{% url 'sim_oblique_collision' %}"
         class="btn btn-outline-info w-100 py-3 fw-bold"
         style="font-size: 1.1rem; border-width: 2px;">
        âš› Oblique Collision Simulation
      </a>
    </div>

    <div class="col-md-3 col-sm-6">
      <a href="{% url 'sim_projectile' %}"
         class="btn btn-outline-success w-100 py-3 fw-bold"
         style="font-size: 1.1rem; border-width: 2px;">
        ğŸ¯ Projectile Motion Simulation
      </a>
    </div>

    <div class="col-md-3 col-sm-6">
      <a href="#" class="btn btn-outline-warning w-100 py-3 fw-bold disabled"
         title="Coming Soon" style="font-size: 1.1rem; border-width: 2px;">
        ğŸ’¥ Elastic vs Inelastic Collision (Coming Soon)
      </a>
    </div>
  </div>
</div>

<!-- ğŸ¨ Styles -->
<style>
  .sim-card:hover {
    transform: translateY(-6px);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
  }

  .sim-card img {
    filter: brightness(0.95);
    transition: all 0.3s ease;
  }

  .sim-card:hover img {
    filter: brightness(1.1);
  }

  .bg-gradient {
    background: linear-gradient(90deg, #007bff, #00c6ff);
  }
</style>
{% endblock %}
